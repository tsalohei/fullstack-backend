{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonRecord.js","components/Persons.js","components/Notification.js","services/numbers.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","PersonRecord","name","number","removalHandler","onClick","Persons","persons","person","toLowerCase","includes","map","id","Notification","message","className","myUrl","axios","get","then","response","data","newObject","post","delete","updatedObject","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","notificationMessage","setNotificationMessage","useEffect","numberService","initialPersons","isDuplicate","i","length","event","target","preventDefault","personObject","console","log","oldPerson","find","changedPerson","window","confirm","updatedPerson","concat","setTimeout","returnedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6eb55975.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Filter = ({filter, handleFilterChange}) => {    \n    return (\n      <div>\n        filter shown with:\n        <input\n          value={filter}\n          onChange={handleFilterChange}\n        />\n        <p></p>\n        </div>\n    )\n}\n\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\n    return (\n        <form onSubmit={addPerson}>\n        <div>\n          name: \n          <input \n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n            number: \n            <input \n              value={newNumber}\n              onChange={handleNumberChange}\n            />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst PersonRecord = ({name, number, removalHandler}) => {\n    return (\n        <p>{name} {number} <button onClick={removalHandler}>delete</button></p>\n    )\n}\n\nexport default PersonRecord","import React from 'react'\nimport PersonRecord from './PersonRecord'\n\nconst Persons = ({persons, filter, removalHandler}) => {\n    return (\n        persons.filter(person => \n            person.name.toLowerCase()\n            .includes(filter.toLowerCase())).\n            map(person => \n                <PersonRecord key={person.id} \n                name={person.name} \n                number={person.number} \n                removalHandler={() => removalHandler(person.id, person.name)}/>)\n            \n\n    \n    )\n}\n\nexport default Persons","const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification  ","import axios from 'axios'\nconst myUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(myUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(myUrl, newObject) \n    return request.then(response => response.data) \n}\n\nconst remove = id => {\n    axios.delete(`${myUrl}/${id}`)\n}\n\nconst replace = (id, updatedObject) => {\n    const request = axios.put(`${myUrl}/${id}`, updatedObject)\n    return request.then(response => response.data)\n} \n\nexport default { getAll, create, remove, replace }\n","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport numberService from './services/numbers'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])  \n\n  const handleRemoval = (id, name) => {\n    const answer = window.confirm(`are you sure you want to delete ${name}`)\n    if (!answer) return\n    \n    numberService\n      .remove(id)  \n    \n      setPersons(persons.filter(person => person.id !== id)) \n      setNotificationMessage(`${name} was deleted`)\n\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 3000);  \n  }\n\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n        name: newName,\n        number: newNumber\n    }\n    console.log(isDuplicate(newName))\n\n    if (!isDuplicate(newName)) {\n       numberService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            \n            setNotificationMessage(`Person ${newName} was added`)\n\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 3000);\n          })\n    } else {\n        const oldPerson = persons.find(person => person.name === personObject.name)\n        const id = oldPerson.id\n        const changedPerson = {...oldPerson, number: personObject.number}\n        const result = window.confirm(`${newName} is already added to phonebook. Do you want to replace the old number with a new one?`)\n        if (!result) return\n        \n        numberService\n          .replace(id, changedPerson) \n          .then(updatedPerson => {\n            setPersons(\n              persons\n                .filter(person => person !== oldPerson) \n                .concat(changedPerson) \n            )\n            setNotificationMessage(`${newName}'s number was updated`)\n\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 3000);\n          })  \n    }   \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n      console.log(event.target.value)\n      setNewName(event.target.value)\n  } \n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n}\n\n  const isDuplicate = (newName) => {\n      for (let i = 0; i < persons.length; i++) {\n          if (persons[i].name === newName) {\n              return true\n          }\n      }\n      return false\n  }\n\n  return (\n    <div>\n      <h2>Das Phonebook</h2>\n      <Notification message={notificationMessage}/>\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n      <h2>add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>  \n\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} removalHandler={handleRemoval}/>\n    </div>\n  )\n\n}\n\nexport default App\n ","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )\n\n "],"sourceRoot":""}